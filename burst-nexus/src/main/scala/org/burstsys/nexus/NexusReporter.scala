/* Copyright Yahoo, Licensed under the terms of the Apache 2.0 license. See LICENSE file in project root for terms. */
package org.burstsys.nexus

import org.burstsys.vitals.reporter.VitalsReporter
import org.burstsys.vitals.reporter.metric.VitalsReporterUnitOpMetric

private[nexus]
object NexusReporter extends VitalsReporter {

  final val dName: String = "nexus"

  /////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // private state
  /////////////////////////////////////////////////////////////////////////////////////////////////////////////

  private[this]
  val _transmitMetric = VitalsReporterUnitOpMetric("nexus_transmit")

  /////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // API
  /////////////////////////////////////////////////////////////////////////////////////////////////////////////

  final
  def onTransmit(ns: Long, bytes: Long): Unit = {
    _transmitMetric.recordOpWithTimeAndSize(ns, bytes)
  }
}
